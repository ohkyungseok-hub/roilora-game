<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ë¡œì´ë¡œë¼ ë§ì¶”ê¸° ê²Œì„</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Apple SD Gothic Neo', sans-serif;
      text-align: center;
      background-color: #f0f0f0;
      margin: 0; padding: 1em;
    }
    h1 { font-size: 6vw; margin-bottom: 1em; }
    img {
      width: 100%; max-width: 400px; height: auto;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      margin-bottom: 1em;
    }
    .button-container {
      display: flex; flex-direction: column; gap: 1em;
      max-width: 400px; margin: 0 auto 1.5em;
    }
    button {
      padding: 1em; font-size: 5vw;
      max-width: 100%; border: none; border-radius: 8px;
      cursor: pointer; transition: transform 0.1s ease;
    }
    button:hover { transform: scale(1.05); }
    #btnRoi { background-color: #4CAF50; color: white; }
    #btnLora { background-color: #2196F3; color: white; }
    #feedback { font-size: 5vw; font-weight: bold; margin-bottom: 10px; }
    #score { font-size: 4vw; margin-bottom: 20px; color: #333; }
    #resultArea h2 { font-size: 5vw; color: #333; margin-bottom: 1em; }
    .extra-buttons {
      display: flex; justify-content: center;
      gap: 10px; flex-wrap: wrap;
    }
    .extra-buttons button {
      background-color: #ff9800; color: white;
      font-size: 4vw;
    }
    #certificate {
      margin-top: 20px; padding: 1em; border: 2px dashed #333;
      font-size: 4vw; color: #555;
    }
    @media (min-width: 768px) {
      h1 { font-size: 32px; }
      button, .extra-buttons button { font-size: 20px; }
      #feedback, #score { font-size: 20px; }
      #resultArea h2 { font-size: 24px; }
      #certificate { font-size: 18px; }
    }
  </style>
</head>
<body>
  <h1>ë¡œì´ë¡œë¼ ë§ì¶”ê¸° ê²Œì„</br>
      (ë¶€ì œ: ëª»ë§ì¶”ë©´ ê°€ì¡± ì•„ë‹˜)
  </h1>

  <div id="gameArea">
    <div id="feedback"></div>
    <img id="questionImage" src="" alt="ë¬¸ì œ ì´ë¯¸ì§€" />
    <div class="button-container">
      <button id="btnRoi" onclick="selectAnswer('ë¡œì´')">ë¡œì´</button>
      <button id="btnLora" onclick="selectAnswer('ë¡œë¼')">ë¡œë¼</button>
    </div>
    <div id="score">ì •ë‹µ: 0 / 0</div>
  </div>

  <div id="resultArea" style="display: none;">
    <h2 id="finalMessage"></h2>
    <div class="extra-buttons">
      <button onclick="restartGame()">ë‹¤ì‹œí•˜ê¸°</button>
    </div>
    <div id="certificate"></div>
  </div>

  <audio id="soundCorrect" src="audio/correct.mp3" preload="auto"></audio>
  <audio id="soundWrong" src="audio/wrong.mp3" preload="auto"></audio>

  <script>
    const imageList = [
      "images/roi1.jpeg", "images/roi2.jpeg", "images/roi3.jpeg",
      "images/lora1.jpeg", "images/lora2.jpeg", "images/lora3.jpeg",
      "images/lora4.jpeg", "images/lora5.jpeg"
    ];

    let currentQuestion = 0;
    let correctCount = 0;
    let shuffledImages = [];

    function shuffle(array) {
      return array.sort(() => 0.5 - Math.random());
    }

    function getAnswerFromFilename(filename) {
      if (filename.includes("roi")) return "ë¡œì´";
      if (filename.includes("lora")) return "ë¡œë¼";
      return "";
    }

    function showQuestion() {
      if (currentQuestion >= shuffledImages.length) {
        showResult();
        return;
      }
      document.getElementById("feedback").innerText = "";
      document.getElementById("questionImage").src = shuffledImages[currentQuestion];
      updateScore();
    }

    function selectAnswer(choice) {
      const correctAnswer = getAnswerFromFilename(shuffledImages[currentQuestion]);
      const feedback = document.getElementById("feedback");
      const soundCorrect = document.getElementById("soundCorrect");
      const soundWrong = document.getElementById("soundWrong");

      if (choice === correctAnswer) {
        correctCount++;
        feedback.innerText = "âœ… ì •ë‹µì…ë‹ˆë‹¤!";
        feedback.style.color = "green";
        soundCorrect.play();
      } else {
        feedback.innerText = "âŒ ì˜¤ë‹µì…ë‹ˆë‹¤!";
        feedback.style.color = "red";
        soundWrong.play();
      }
      currentQuestion++;
      updateScore();
      setTimeout(showQuestion, 1000);
    }

    function updateScore() {
      document.getElementById("score").innerText = `ì •ë‹µ: ${correctCount} / ${currentQuestion}`;
    }

    function showResult() {
      document.getElementById("gameArea").style.display = "none";
      const resultArea = document.getElementById("resultArea");
      const msg = document.getElementById("finalMessage");
      const cert = document.getElementById("certificate");

      resultArea.style.display = "block";
      if (correctCount === shuffledImages.length) {
        msg.innerHTML = `ğŸ‰ ë‹¹ì‹ ì€ ìš°ë¦¬ì˜ ê°€ì¡±ì´ë„¤ìš”!`;
        cert.innerHTML = `ğŸ“œ ê°€ì¡± ì¸ì¦ì„œ ë°œê¸‰ ì™„ë£Œ!<br>ì¶•í•˜í•©ë‹ˆë‹¤!`;
      } else {
        msg.innerHTML = `ğŸ˜­ ëª¨ë‘ ë§ì¶”ì§€ ëª»í•œ ë‹¹ì‹ ì€ ë‚˜ì˜ ê°€ì¡±ì´ ì•„ë‹ˆì—ìš” ã… `;
        cert.innerHTML = "";
      }
    }

    function restartGame() {
      currentQuestion = 0;
      correctCount = 0;
      shuffledImages = shuffle([...imageList]);
      document.getElementById("gameArea").style.display = "block";
      document.getElementById("resultArea").style.display = "none";
      showQuestion();
    }

    window.onload = () => {
      shuffledImages = shuffle([...imageList]);
      showQuestion();
    }
  </script>
</body>
</html>
